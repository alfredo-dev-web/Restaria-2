{{ 'Collabora_sezione.css' | asset_url | stylesheet_tag }}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div class="container0">
  <div class="container">
    <div class="overlay"></div>
    <h2>DIVENTA NOSTRO COLLABORATORE</h2>
    <p class="animate--slide-in scroll-trigger">
      Siamo sempre alla ricerca di nuove idee, talenti e visioni per creare gioielli che raccontano storie. Se condividi
      la passione per l’eleganza e l’innovazione, REST.ARÍA è il luogo dove la tua creatività può prendere vita.
    </p>
    <div id="conitore-div" class="animate--slide-in scroll-trigger">
      <a href="/pages/rendilounico" onclick="setScrollParam()" id="bottoncino" class="bottoncino">Scopri</a>
    </div>
  </div>
  <div class="text2">
    <h2>ISCRIVITI ALLA NEWSLETTER</h2>
    <p>
      Vuoi rimanere aggiornato sulle ultime novità, le collezioni esclusive e le offerte speciali della gioielleria
      REST.ARIA? Iscriviti alla nostra newsletter e accedi a contenuti riservati, consigli di stile e promozioni
      dedicate ai nostri iscritti!
    </p>
    <div
      class="footer-block--newsletter{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
      {% if settings.animations_reveal_on_scroll %}
        data-cascade
      {% endif %}
    >
      {%- if section.settings.newsletter_enable -%}
        <div class="footer-block__newsletter">
          {%- if section.settings.newsletter_heading != blank -%}
            <h2 class="footer-block__heading inline-richtext">{{ section.settings.newsletter_heading }}</h2>
          {%- endif -%}
          {%- form 'customer', id: 'ContactFooter', class: 'footer__newsletter newsletter-form' -%}
            <input type="hidden" name="contact[tags]" value="newsletter">
            <div class="newsletter-form__field-wrapper">
              <div class="field">
                <input
                  id="NewsletterForm--{{ section.id }}"
                  type="email"
                  name="contact[email]"
                  class="field__input"
                  value="{{ form.email }}"
                  aria-required="true"
                  autocorrect="off"
                  autocapitalize="off"
                  autocomplete="email"
                  {% if form.errors %}
                    autofocus
                    aria-invalid="true"
                    aria-describedby="ContactFooter-error"
                  {% elsif form.posted_successfully? %}
                    aria-describedby="ContactFooter-success"
                  {% endif %}
                  placeholder="{{ 'newsletter.label' | t }}"
                  required
                >
                <label class="field__label" for="NewsletterForm--{{ section.id }}">
                  {{ 'newsletter.label' | t }}
                </label>
                <button
                  type="submit"
                  class="newsletter-form__button field__button"
                  name="commit"
                  id="Subscribe"
                  aria-label="{{ 'newsletter.button_label' | t }}"
                >
                  <span class="svg-wrapper">
                    {{- 'icon-arrow.svg' | inline_asset_content -}}
                  </span>
                </button>
              </div>
              {%- if form.errors -%}
                <small class="newsletter-form__message form__message" id="ContactFooter-error">
                  <span class="svg-wrapper">
                    {{- 'icon-error.svg' | inline_asset_content -}}
                  </span>
                  {{- form.errors.translated_fields.email | capitalize }}
                  {{ form.errors.messages.email -}}
                </small>
              {%- endif -%}
            </div>
            {%- if form.posted_successfully? -%}
              <h3
                class="newsletter-form__message newsletter-form__message--success form__message"
                id="ContactFooter-success"
                tabindex="-1"
                autofocus
              >
                <span class="svg-wrapper">
                  {{- 'icon-success.svg' | inline_asset_content -}}
                </span>
                {{- 'newsletter.success' | t }}
              </h3>
            {%- endif -%}
          {%- endform -%}
        </div>
      {%- endif -%}

      {%- if shop.features.follow_on_shop? and section.settings.enable_follow_on_shop -%}
        <div class="footer__follow-on-shop">
          {{ shop | login_button: action: 'follow' }}
        </div>
      {%- endif -%}

      {%- if section.settings.show_social and has_social_icons -%}
        {%- render 'social-icons', class: 'footer__list-social' -%}
      {%- endif -%}
    </div>
  </div>
</div>
<script>
  function setScrollParam() {
    // Salvo nel Local Storage la chiave 'scrollToPoint' con valore 'true'
    localStorage.setItem('scrollToPoint', 'true');
    // Facoltativo: debug in console
    console.log('scrollToPoint impostato a:', localStorage.getItem('scrollToPoint'));
  }
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    let observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      },
      { threshold: 0.2 }
    );

    document.querySelectorAll('img').forEach((img) => {
      observer.observe(img);
    });
  });
</script>

{% schema %}
{
  "name": "Collabora_Sezione",
  "settings": [
    {
      "type": "checkbox",
      "id": "newsletter_enable",
      "default": true,
      "label": "t:sections.footer.settings.newsletter_enable.label"
    }
  ],
  "presets": [
    {
      "name": "Collabora_Sezione",
      "settings": {}
    }
  ]
}
{% endschema %}
